/// ğŸ¯ êµ¬ë… ê´€ë ¨ ëª¨ë“  ìƒìˆ˜ ë° í…ìŠ¤íŠ¸ ì¤‘ì•™ ê´€ë¦¬
/// 
/// ì´ íŒŒì¼ì—ì„œ ëª¨ë“  êµ¬ë… ìƒíƒœ, ë°°ë„ˆ í…ìŠ¤íŠ¸, UI í‘œì‹œ í…ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
/// 
class SubscriptionConstants {
  
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ”‘ ì„œë²„ ìƒìˆ˜ (ì„œë²„ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨)
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  /// ì„œë²„ Entitlement ìƒìˆ˜
  static const String ENTITLEMENT_FREE = 'FREE';
  static const String ENTITLEMENT_TRIAL = 'TRIAL';
  static const String ENTITLEMENT_PREMIUM = 'PREMIUM';
  
  /// ì„œë²„ SubscriptionStatus ìƒìˆ˜ (ìˆ«ì)
  static const int STATUS_ACTIVE = 1;        // í™œì„± (ì •ìƒ êµ¬ë…, ìœ ì˜ˆ ê¸°ê°„ í¬í•¨)
  static const int STATUS_EXPIRED = 2;       // ë§Œë£Œë¨
  static const int STATUS_REFUNDED = 3;      // í™˜ë¶ˆë¨
  static const int STATUS_GRACE_PERIOD = 4;  // ìœ ì˜ˆ ê¸°ê°„
  static const int STATUS_UNKNOWN = 5;       // ì•Œ ìˆ˜ ì—†ìŒ (ì˜¤ë¥˜ ë“±)
  static const int STATUS_INACTIVE = 6;      // ë¹„í™œì„± (êµ¬ë… ì•ˆ í•¨)
  static const int STATUS_CANCELLED = 7;     // ì·¨ì†Œë¨ (ë§Œë£Œ ì˜ˆì •)
  static const int STATUS_TRIAL = 8;         // ë¬´ë£Œ ì²´í—˜
  static const int STATUS_PROMOTION = 9;     // í”„ë¡œëª¨ì…˜
  static const int STATUS_FAMILY_SHARED = 10; // ê°€ì¡± ê³µìœ 
  static const int STATUS_IN_UPGRADE = 11;   // ì—…ê·¸ë ˆì´ë“œ/ë‹¤ìš´ê·¸ë ˆì´ë“œ ì§„í–‰ ì¤‘
  static const int STATUS_ON_HOLD = 12;      // ê³„ì • ë³´ë¥˜
  static const int STATUS_UNVERIFIED = 13;   // êµ¬ë§¤ ì •ë³´ ë¯¸í™•ì¸ (JWS ì „ì†¡ í•„ìš”)

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ“± í”Œëœ í‘œì‹œ í…ìŠ¤íŠ¸
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  /// í”Œëœ ì´ë¦„ (UI í‘œì‹œìš©)
  static const Map<String, String> PLAN_DISPLAY_NAMES = {
    'free': 'ë¬´ë£Œ',
    'premium_monthly': 'í”„ë¦¬ë¯¸ì—„ (ì›”ê°„)',
    'premium_yearly': 'í”„ë¦¬ë¯¸ì—„ (ì—°ê°„)',
  };
  
  /// í”Œëœ ìƒíƒœ í‘œì‹œ í…ìŠ¤íŠ¸
  static const Map<String, String> PLAN_STATUS_DISPLAY = {
    'active': 'í™œì„±',
    'cancelling': 'ì·¨ì†Œ ì˜ˆì •',
    'expired': 'ë§Œë£Œë¨',
    'unverified': 'í™•ì¸ ì¤‘',
    'unknown': 'ì•Œ ìˆ˜ ì—†ìŒ',
  };

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ¯ ë°°ë„ˆ í…ìŠ¤íŠ¸ (BannerTypeë³„)
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  static const Map<String, Map<String, String?>> BANNER_TEXTS = {
    'free': {
      'title': 'ğŸ¯ ë¬´ë£Œ í”Œëœ ì´ìš© ì¤‘',
      'subtitle': 'ë” ë§ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”!',
      'buttonText': 'ëª¨ë“  í”Œëœ ë³´ê¸°',
    },
    'trialStarted': {
      'title': 'ğŸ‰ 7ì¼ ë¬´ë£Œì²´í—˜ ì‹œì‘!',
      'subtitle': 'í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì„ ë§ˆìŒê» ì‚¬ìš©í•´ë³´ì„¸ìš”',
      'buttonText': null, // ë‹«ê¸°ë§Œ ê°€ëŠ¥
    },
    'premiumStarted': {
      'title': 'ğŸ‰ í”„ë¦¬ë¯¸ì—„ êµ¬ë… ì‹œì‘!',
      'subtitle': 'ëª¨ë“  í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
      'buttonText': null, // ë‹«ê¸°ë§Œ ê°€ëŠ¥
    },
    'trialCancelled': {
      'title': 'ğŸ“… ë¬´ë£Œì²´í—˜ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤',
      'subtitle': 'ì–¸ì œë“ ì§€ ë‹¤ì‹œ ì‹œì‘í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”',
      'buttonText': 'ëª¨ë“  í”Œëœ ë³´ê¸°',
    },
    'premiumCancelled': {
      'title': 'ğŸ“… í”„ë¦¬ë¯¸ì—„ êµ¬ë…ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤',
      'subtitle': 'êµ¬ë… ê¸°ê°„ì´ ëë‚  ë•Œê¹Œì§€ ê³„ì† ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤',
      'buttonText': 'ì•±ìŠ¤í† ì–´ì—ì„œ ê´€ë¦¬í•˜ê¸°',
    },
    'switchToPremium': {
      'title': 'ğŸ’ í”„ë¦¬ë¯¸ì—„ ì›” êµ¬ë…ìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.',
      'subtitle': '7ì¼ ë¬´ë£Œ ì²´í—˜ì´ ëë‚¬ìŠµë‹ˆë‹¤. í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ì„ ë§ˆìŒê» ì‚¬ìš©í•´ë³´ì„¸ìš”.',
      'buttonText': null,
    },
    'premiumGrace': {
      'title': 'âš ï¸ ê²°ì œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
      'subtitle': 'ì•±ìŠ¤í† ì–´ì—ì„œ ê²°ì œ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”',
      'buttonText': 'ì•±ìŠ¤í† ì–´ì—ì„œ ê´€ë¦¬í•˜ê¸°',
    },
    'usageLimitFree': {
      'title': 'ğŸ“Š ë¬´ë£Œ í”Œëœ ì‚¬ìš©ëŸ‰ í•œë„ ë„ë‹¬',
      'subtitle': 'í”„ë¦¬ë¯¸ì—„ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ì—¬ ë¬´ì œí•œ ì´ìš©í•˜ì„¸ìš”',
      'buttonText': 'ëª¨ë“  í”Œëœ ë³´ê¸°',
    },
    'usageLimitPremium': {
      'title': 'ğŸ“Š í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ëŸ‰ í•œë„ ë„ë‹¬',
      'subtitle': 'ë” ë§ì€ ì‚¬ìš©ëŸ‰ì´ í•„ìš”í•˜ì‹œë©´ ë¬¸ì˜í•´ì£¼ì„¸ìš”',
      'buttonText': 'ë¬¸ì˜í•˜ê¸°',
    },
  };

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ’¬ ìŠ¤ë‚µë°”/ì•Œë¦¼ ë©”ì‹œì§€
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  static const Map<String, String> PURCHASE_SUCCESS_MESSAGES = {
    'premium_monthly': 'ğŸ‰ í”„ë¦¬ë¯¸ì—„ ì›”ê°„ êµ¬ë…ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!',
    'premium_yearly': 'ğŸ‰ í”„ë¦¬ë¯¸ì—„ ì—°ê°„ êµ¬ë…ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!',
  };
  
  static const Map<String, String> TRIAL_MESSAGES = {
    'started': 'ğŸ‰ 7ì¼ ë¬´ë£Œì²´í—˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!',
    'ending_soon': 'ğŸ“… ë¬´ë£Œì²´í—˜ì´ ë‚´ì¼ ì¢…ë£Œë©ë‹ˆë‹¤',
    'ended': 'ğŸ“… ë¬´ë£Œì²´í—˜ì´ ì¢…ë£Œë˜ê³  í”„ë¦¬ë¯¸ì—„ ì›” êµ¬ë…ìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.',
  };

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ¯ CTA ë²„íŠ¼ í…ìŠ¤íŠ¸ (ìƒíƒœë³„) - ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œìš©
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  static const Map<String, String> CTA_TEXTS = {
    'free_active': 'ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ìš”ì²­',
    'premium_active': 'í˜„ì¬ í”„ë¦¬ë¯¸ì—„ ì´ìš© ì¤‘',
    'premium_cancelling': 'í˜„ì¬ í”„ë¦¬ë¯¸ì—„ ì´ìš© ì¤‘',
    'premium_expired': 'ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ìš”ì²­',
    'trial_active': 'í˜„ì¬ í”„ë¦¬ë¯¸ì—„ ì´ìš© ì¤‘',
    'trial_cancelling': 'í˜„ì¬ í”„ë¦¬ë¯¸ì—„ ì´ìš© ì¤‘',
    'trial_expired': 'ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ìš”ì²­',
  };

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ”§ í—¬í¼ í•¨ìˆ˜ë“¤
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  
  /// Entitlement + Status ì¡°í•©ìœ¼ë¡œ ë°°ë„ˆ íƒ€ì… ê²°ì •
  static String? getBannerType(String entitlement, int subscriptionStatus) {
    // ê¸°ë³¸ entitlement ë°°ë„ˆ
    switch (entitlement.toUpperCase()) {
      case 'FREE':
        return 'free';
      case 'TRIAL':
        return 'trialStarted';
      case 'PREMIUM':
        return 'premiumStarted';
    }
    
    // ìƒíƒœ ê¸°ë°˜ ì¶”ê°€ ë°°ë„ˆ
    if (subscriptionStatus == STATUS_CANCELLED) {
      if (entitlement.toUpperCase() == 'PREMIUM') {
        return 'premiumCancelled';
      } else if (entitlement.toUpperCase() == 'TRIAL') {
        return 'trialCancelled';
      }
    } else if (subscriptionStatus == STATUS_EXPIRED) {
      if (entitlement.toUpperCase() == 'PREMIUM' || entitlement.toUpperCase() == 'TRIAL') {
        return 'switchToPremium';
      }
    } else if (subscriptionStatus == STATUS_GRACE_PERIOD) {
      return 'premiumGrace';
    }
    
    return null;
  }
  
  /// í”Œëœ í‘œì‹œ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
  static String getPlanDisplayName(String planId) {
    return PLAN_DISPLAY_NAMES[planId] ?? 'ì•Œ ìˆ˜ ì—†ëŠ” í”Œëœ';
  }
  
  /// CTA í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
  static String getCTAText(String entitlement, String status) {
    final key = '${entitlement.toLowerCase()}_${status.toLowerCase()}';
    return CTA_TEXTS[key] ?? 'ëª¨ë“  í”Œëœ ë³´ê¸°';
  }
  
  /// êµ¬ë§¤ ì„±ê³µ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°
  static String getPurchaseSuccessMessage(String productId) {
    return PURCHASE_SUCCESS_MESSAGES[productId] ?? 'êµ¬ë§¤ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!';
  }
} 